{"mappings":"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","sources":["src/js/utils/render.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-689f106a079a16dd.js","src/js/utils/localStorage.js","src/js/utils/renderHtmlCards.js","src/js/modal/modal-template.js","src/js/modal/add-in-watched.js","src/js/modal/add-in-queue.js","node_modules/@parcel/runtime-js/lib/runtime-0a459b2820bb7e66.js","src/js/modal/libraryModal.js","src/js/film-list/film-watched.js","src/js/film-list/film-queue.js","src/js/youtube/trailerApi.js","src/js/youtube/youtubeTrailerModal.js"],"sourcesContent":["/**\n * Render HTML.\n * @param {Object} parent\n * @param {Object} item\n */\n\nexport default function render(parent, item) {\n  parent.insertAdjacentHTML('beforeend', item);\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library-page.aaafe246.js\\\",\\\"c2tf3\\\":\\\"thumbnail.cedc50af.jpg\\\"}\"));","/**\n * Get from localStorage\n * @param {string} key\n */\nfunction getItem(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\n/**\n * Set in localStorage\n * @param {string} key\n */\nfunction setItem(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport default { setItem, getItem };\n","import { render } from '../utils/index';\nimport ImagePlaceholder from '../../images/thumbnail.jpg';\n\nexport async function renderCards(response) {\n  const filmsListRef = document.querySelector('.films__list');\n  const filmCard = await createCard(response);\n  render(filmsListRef, filmCard);\n}\nasync function createCard({ allFilms, allGenres }) {\n  const films = await allFilms;\n  const geners = await allGenres;\n\n  return films\n    .map(film => {\n      const filmGeners = [];\n      pushGenerInFilmGeners({ geners, filmGeners, film });\n      addOtherInFilmgeners(filmGeners);\n      const filmGenerSpace = filmGeners.join(', ');\n      return marcapCard({ film, filmGenerSpace });\n    })\n    .join('');\n}\nfunction pushGenerInFilmGeners({ geners, filmGeners, film }) {\n  geners.map(gener => {\n    if (film.genre_ids.includes(gener.id)) {\n      filmGeners.push(gener.name);\n    }\n  });\n}\nfunction addOtherInFilmgeners(filmGeners) {\n  if (filmGeners.length > 2) {\n    filmGeners.splice(2);\n    filmGeners.push('Other');\n  }\n}\nfunction marcapCard({ film, filmGenerSpace }) {\n  const year = film.release_date.substr(0, 4);\n  return `\n       <li class=\"films__item\" >\n        <div class=\"films__card\" data-id=\"${film.id}\">\n            <button class=\"youtube-button\">\n              <svg style=\"pointer-events: none\" version=\"1.0\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n                viewBox=\"0 0 158 110\" enable-background=\"new 0 0 158 110\" xml:space=\"preserve\">\n                <path id=\"XMLID_142_\" fill=\"#FF0000\" d=\"M154.4,17.5c-1.8-6.7-7.1-12-13.9-13.8C128.2,0.5,79,0.5,79,0.5s-48.3-0.2-60.6,3\n                c-6.8,1.8-13.3,7.3-15.1,14C0,29.7,0.3,55,0.3,55S0,80.3,3.3,92.5c1.8,6.7,8.4,12.2,15.1,14c12.3,3.3,60.6,3,60.6,3s48.3,0.2,60.6-3\n                c6.8-1.8,13.1-7.3,14.9-14c3.3-12.1,3.3-37.5,3.3-37.5S157.7,29.7,154.4,17.5z\"/>\n                <polygon id=\"XMLID_824_\" fill=\"#FFFFFF\" points=\"63.9,79.2 103.2,55 63.9,30.8 \"/>\n              </svg>\n              </button>\n            <div class=\"films__img-container\">\n                <img\n                data-id=\"${film.id}\"\n                class=\"films__img\"\n                src=\"${\n                  film.poster_path\n                    ? 'https://image.tmdb.org/t/p/w500/' + film.poster_path\n                    : ImagePlaceholder\n                }\"\n                alt=\"${film.title}\"\n                loading=\"lazy\"\n                />\n            </div>\n            <div class=\"info\">\n                <p class=\"info__title\">${film.title}</p>\n                <p class=\"info__subtitle\">${filmGenerSpace} | ${year}</p>\n            </div>\n        </div>\n       </li> \n      `;\n}\n","import ImagePlaceholder from '../../images/thumbnail.jpg';\n/**\n * Modal template.\n * @param {Object} currentFilm\n * @param {Array} filmGeners\n */\nexport default function marcapModal(currentFilm, filmGeners) {\n  return `\n        <div class=\"modal-img-container\">\n          <img\n            class=\"modal-img\"\n            src=\"${\n              currentFilm.poster_path\n                ? 'https://image.tmdb.org/t/p/w500/' + currentFilm.poster_path\n                : ImagePlaceholder\n            }\"\n            alt=\"${addAudit(currentFilm.title)}\"\n          />\n        </div>\n        <div class=\"description\">\n          <h1 class=\"description__title\">${addAudit(currentFilm.title)}</h1>\n          <div class=\"info-stats\">\n            <ul class=\"info-stats__list\">\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Vote / Votes</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Popularity</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Original Title</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Genre</p>\n              </li>\n            </ul>\n            <ul class=\"stats\">\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">\n                  <span class=\"rating\">${addAudit(\n                    currentFilm.vote_average.toFixed(1)\n                  )}</span>\n                  <span class=\"rating__or\">/</span>\n                  <span class=\"rating rating--white\">${addAudit(\n                    currentFilm.vote_count\n                  )}</span>\n                </p>\n              </li>\n              <li class=\"stats__item\"><p class=\"stats__subtitle\">${addAudit(\n                currentFilm.popularity.toFixed(1)\n              )}</p></li>\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">${addAudit(\n                  currentFilm.original_title\n                )}</p>\n              </li>\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">${addAudit(\n                  filmGeners.join(', ')\n                )}</p>\n              </li>\n            </ul>\n          </div>\n          <h2 class=\"about\">About</h2>\n          <p class=\"about__description\">\n             ${addAudit(currentFilm.overview)}\n          </p>\n          <div class=\"center\">\n          <button class=\"add-button add-watched-js\" type=\"button\" data-id=\"${\n            currentFilm.id\n          }\">add to Watched</button>\n          <button class=\"add-button add-queue-js\" type=\"button\" data-id=\"${\n            currentFilm.id\n          }\">add to queue</button>\n          </div>\n        </div>\n    `;\n}\n\nfunction addAudit(data) {\n  if (data.length === 0) {\n    return 'No information';\n  }\n  return data;\n}\n","import LocalStorage from '../utils/localStorage';\n\nexport default function addFilmInWatchedArray() {\n  const addWatched = document.querySelector('.add-watched-js');\n\n  textContentBtnDelete(addWatched);\n  addWatched.addEventListener('click', onClickWatchedBtn);\n\n  function onClickWatchedBtn() {\n    const filmsWatched = JSON.parse(localStorage.getItem('filmsWatched'));\n    const allFilms = LocalStorage.getItem('all-films');\n    const currentFilm = allFilms?.results?.find(\n      film => film.id === Number(addWatched.dataset.id)\n    );\n    if (filmsWatched) {\n      const repeatedFilm = filmsWatched.find(\n        film => film.id === Number(addWatched.dataset.id)\n      );\n      if (repeatedFilm) {\n        deleteFilm({ filmsWatched, repeatedFilm, addWatched });\n        return;\n      }\n      if (currentFilm) {\n        LocalStorage.setItem('filmsWatched', [...filmsWatched, currentFilm]);\n      }\n    } else {\n      if (currentFilm) {\n        LocalStorage.setItem('filmsWatched', [currentFilm]);\n      }\n    }\n    addWatched.textContent = 'DELETE TO WATCHED';\n  }\n}\n/**\n * если фильм в просмотренных пишем DELETE\n */\nfunction textContentBtnDelete(addWatched) {\n  const filmsWatched = JSON.parse(localStorage.getItem('filmsWatched'));\n  if (filmsWatched) {\n    const repeatedFilm = filmsWatched.find(\n      film => film.id === Number(addWatched.dataset.id)\n    );\n    if (repeatedFilm) {\n      addWatched.textContent = 'DELETE TO WATCHED';\n    }\n  }\n}\n///////////////////////////////////////////////////////////////////////////\n/**\n * удалить фильм из локал стореджа\n */\nfunction deleteFilm({ filmsWatched, repeatedFilm, addWatched }) {\n  const currentFilmindex = filmsWatched.findIndex(\n    film => film === repeatedFilm\n  );\n  filmsWatched.splice(currentFilmindex, 1);\n  localStorage.setItem('filmsWatched', JSON.stringify(filmsWatched));\n  addWatched.textContent = 'add to watched';\n}\n///////////////////////////////////////////////////////////////////////////\n","import LocalStorage from '../utils/localStorage';\n\nexport default function addFilmInWatchedArray() {\n  const addQueue = document.querySelector('.add-queue-js');\n  textContentBtnDelete(addQueue);\n  addQueue.addEventListener('click', onClickWatchedBtn);\n\n  function onClickWatchedBtn() {\n    const filmsQueue = JSON.parse(localStorage.getItem('filmsQueue'));\n    const allFilms = LocalStorage.getItem('all-films');\n    const currentFilm = allFilms?.results?.find(\n      film => film.id === Number(addQueue.dataset.id)\n    );\n    if (filmsQueue) {\n      const repeatedFilm = filmsQueue.find(\n        film => film.id === Number(addQueue.dataset.id)\n      );\n      if (repeatedFilm) {\n        deleteFilm({ filmsQueue, repeatedFilm, addQueue });\n        return;\n      }\n      if (currentFilm) {\n        LocalStorage.setItem('filmsQueue', [...filmsQueue, currentFilm]);\n      }\n    } else {\n      if (currentFilm) {\n        LocalStorage.setItem('filmsQueue', [currentFilm]);\n      }\n    }\n    addQueue.textContent = 'DELETE TO QUEUE';\n  }\n}\n/**\n * если фильм в просмотренных пишем DELETE\n */\nfunction textContentBtnDelete(addQueue) {\n  const filmsQueue = JSON.parse(localStorage.getItem('filmsQueue'));\n  if (filmsQueue) {\n    const repeatedFilm = filmsQueue.find(\n      film => film.id === Number(addQueue.dataset.id)\n    );\n    if (repeatedFilm) {\n      addQueue.textContent = 'delete to queue';\n    }\n  }\n}\n///////////////////////////////////////////////////////////////////////////\n/**\n * удалить фильм из локал стореджа\n */\nfunction deleteFilm({ filmsQueue, repeatedFilm, addQueue }) {\n  const currentFilmindex = filmsQueue.findIndex(film => film === repeatedFilm);\n  filmsQueue.splice(currentFilmindex, 1);\n  localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\n  addQueue.textContent = 'add to queue';\n}\n///////////////////////////////////////////////////////////////////////////\n///\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"c2tf3\")).toString();","import { LocalStorage, render } from '../utils';\nimport marcapModal from './modal-template';\nimport { renderCards } from '../utils/index';\nimport addFilmInWatchedArray from './add-in-watched';\nimport addFilmInQueueArray from './add-in-queue';\n\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  backdrop: document.querySelector('.modal-backdrop'),\n  modalContainer: document.querySelector('.modal-container'),\n};\n\n/**\n * Открытие модального окна ниже\n */\nexport function onOpenModalWithSingleFilm(e) {\n  const filmLibrary = document.querySelector('.film--library');\n  //   const filmList = document.querySelector('.films__list');\n  //   const filmSection = document.querySelector('.film-section');\n  //   const libraryContainer = document.querySelector('.library-container');\n  const watchedBtn = document.querySelector('[data-watched]');\n  const queueBtn = document.querySelector('[data-queue]');\n\n  let allFilms = null;\n\n  if (filmLibrary) {\n    if (watchedBtn.classList.contains('is-active')) {\n      allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n    }\n    if (queueBtn.classList.contains('is-active')) {\n      allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n    }\n    if (e.target.className !== 'films__img') {\n      return;\n    }\n  }\n  const currentFilm = allFilms?.find(film => {\n    return parseInt(film.id) === parseInt(e.target.dataset.id);\n  });\n\n  const template = renderMarcap(currentFilm);\n  render(refs.modalContainer, template);\n  const youtubeBtn = document.querySelectorAll('.youtube-button');\n  youtubeBtn.forEach(youtubeBtn => (youtubeBtn.style = 'display:none'));\n  document.body.style = 'overflow: hidden';\n\n  /**\n   * Watched and queue buttons\n   */\n  addFilmInWatchedArray();\n  addFilmInQueueArray();\n  ///////////////////////////////\n  /**\n   * Закрыть модальное окно и убрать за собой все следы\n   */\n  const buttonClose = document.querySelector('.button-close');\n  buttonClose.addEventListener('click', onCloseModalWindow);\n  refs.backdrop.classList.add('active');\n  refs.backdrop.addEventListener('click', onClickBeckdropCloseModalWindow);\n  window.addEventListener('keydown', onEscCloseModalWindow);\n}\nfunction renderMarcap(currentFilm) {\n  const filmGeners = [];\n  pushGenerInFilmGeners(currentFilm, filmGeners);\n\n  return marcapModal(currentFilm, filmGeners);\n}\nfunction pushGenerInFilmGeners(currentFilm, filmGeners) {\n  const generCollection = LocalStorage.getItem('all-geners');\n  generCollection.genres.map(genre => {\n    if (currentFilm.genre_ids.includes(genre.id)) {\n      filmGeners.push(genre.name);\n    }\n  });\n}\n/**\n * Закрытие модального окна ниже\n */\n\nfunction onCloseModalWindow(e) {\n  if (e.target.className !== 'custom-icon') {\n    return;\n  }\n  removeModal();\n}\nfunction onClickBeckdropCloseModalWindow(e) {\n  if (e.target.className !== 'modal-backdrop active') {\n    return;\n  }\n  removeModal();\n  refs.backdrop.removeEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction onEscCloseModalWindow(e) {\n  if (e.key !== 'Escape') {\n    return;\n  }\n  refs.backdrop.classList.remove('active');\n  refs.modalContainer.innerHTML = `\n    <button class=\"button-close\" type=\"button\">\n        <div class=\"custom-icon\"></div>\n    </button>`;\n  window.removeEventListener('keydown', onEscCloseModalWindow);\n}\nfunction removeModal() {\n  refs.backdrop.classList.remove('active');\n  document.body.style = '';\n  refs.modalContainer.innerHTML = `\n    <button class=\"button-close\" type=\"button\">\n        <div class=\"custom-icon\"></div>\n    </button>`;\n  const youtubeBtn = document.querySelectorAll('.youtube-button');\n  youtubeBtn.forEach(youtubeBtn => (youtubeBtn.style = 'display:block'));\n  /**\n   * Удалить фильм из списка просмотренных при закрытии модалнього окна\n   */\n  const filmLibrary = document.querySelector('.film--library');\n  if (filmLibrary) {\n    removeFilmFromList(filmLibrary);\n  }\n}\nfunction removeFilmFromList(filmLibrary) {\n  const filmList = document.querySelector('.films__list');\n  const filmSection = document.querySelector('.film-section');\n  const libraryContainer = document.querySelector('.library-container');\n  const watchedBtn = document.querySelector('[data-watched]');\n  const queueBtn = document.querySelector('[data-queue]');\n\n  let allFilms = null;\n\n  if (watchedBtn.classList.contains('is-active')) {\n    allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n  }\n  if (queueBtn.classList.contains('is-active')) {\n    allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n  }\n\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n  if (!allFilms || allFilms.length === 0) {\n    filmList.innerHTML = '';\n    libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmSection.classList.add('library-plug');\n    return;\n  }\n  filmLibrary.innerHTML = '';\n  renderCards({ allFilms, allGenres });\n}\n","import { renderCards } from '../utils/index';\nimport { onOpenModalWithSingleFilm } from '../modal/libraryModal';\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  watchedBtn: document.querySelector('[data-watched]'),\n  queueBtn: document.querySelector('[data-queue]'),\n  filmTitle: document.querySelector('.film-title'),\n  filmSection: document.querySelector('.film-section'),\n  libraryContainer: document.querySelector('.library-container'),\n};\nlet filmList = document.querySelector('.films__list');\n\nrefs.watchedBtn.addEventListener('click', onClickWatchedBtn);\n\nasync function onClickWatchedBtn(e) {\n  filmList = document.querySelector('.films__list');\n  const filmTitle = document.querySelector('.film-title');\n  /**\n   * refs\n   */\n  filmList.innerHTML = '';\n  refs.watchedBtn.classList.add('is-active');\n  refs.queueBtn.classList.remove('is-active');\n  const allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n\n  if (!allFilms || allFilms.length === 0) {\n    refs.libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmList = document.querySelector('.films__list');\n    refs.filmSection.classList.add('library-plug');\n    filmList.innerHTML = '';\n    return;\n  }\n  refs.filmSection.classList.remove('library-plug');\n  filmTitle?.remove();\n\n  renderCards({ allFilms, allGenres });\n\n  onOpenModalWithSingleFilm(e, allFilms);\n\n  filmList.removeEventListener('click', onOpenModalWithSingleFilm);\n  filmList.addEventListener('click', onOpenModalWithSingleFilm);\n}\n","import { renderCards } from '../utils/index';\nimport { onOpenModalWithSingleFilm } from '../modal/libraryModal';\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  watchedBtn: document.querySelector('[data-watched]'),\n  queueBtn: document.querySelector('[data-queue]'),\n  filmTitle: document.querySelector('.film-title'),\n  filmSection: document.querySelector('.film-section'),\n  libraryContainer: document.querySelector('.library-container'),\n};\nlet filmList = document.querySelector('.films__list');\n\nrefs.queueBtn.addEventListener('click', onClickQueue);\n\nasync function onClickQueue(e) {\n  filmList = document.querySelector('.films__list');\n  const filmTitle = document.querySelector('.film-title');\n  /**\n   * refs\n   */\n  filmList.innerHTML = '';\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  const allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n\n  if (!allFilms || allFilms.length === 0) {\n    refs.libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmList = document.querySelector('.films__list');\n    refs.filmSection.classList.add('library-plug');\n    filmList.innerHTML = '';\n    return;\n  }\n  refs.filmSection.classList.remove('library-plug');\n  filmTitle?.remove();\n  renderCards({ allFilms, allGenres });\n\n  onOpenModalWithSingleFilm(e, allFilms);\n\n  filmList.removeEventListener('click', onOpenModalWithSingleFilm);\n  filmList.addEventListener('click', onOpenModalWithSingleFilm);\n}\n","const spiner = document.querySelector('.bcdrop-spiner');\n\nexport default async function fetchUrl(filmId) {\n  try {\n    spiner.classList.add('visible');\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${filmId}/videos?api_key=14b7b0dab2e9101796b24880530a0048`\n    );\n    const films = await response.json();\n    spiner.classList.remove('visible');\n\n    return films.results;\n  } catch (error) {\n    spiner.classList.remove('visible');\n    console.error(error);\n    throw new Error('Error fetching film genres');\n  }\n}\n","import fetchTrailers from '../youtube/trailerApi';\nconst filmsListRef = document.querySelector('.films__list');\nconst filmsSection = document.querySelector('.films-section');\nfilmsListRef.addEventListener('click', onOpenTrailer);\n\nasync function onOpenTrailer(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('youtube-button')) {\n    return;\n  }\n  const currentFilmId = e.target.closest('.films__card').dataset.id;\n\n  const response = await fetchTrailers(currentFilmId);\n  if (response.length >= 1) {\n    createIframe(response[0].key);\n  } else if (!response.length) {\n    Notify.warning('There are no trailers for this movie');\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  const backdrop = document.querySelector('.backdrop-trailer');\n  backdrop.classList.add('active');\n  backdrop.addEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction createIframe(results) {\n  const iframe = `<div class=\"backdrop-trailer\"><div class=\"modal-trailer\"><button class=\"close-modal__trailer\"><div class=\"custom-icon-2 white--custom\"></div></button>\n    <iframe class=\"iframe\" fullscreen src=\"https://www.youtube.com/embed/${results}\" frameborder=\"0\"></iframe>\n    </div></div>`;\n  filmsSection.insertAdjacentHTML('beforeend', iframe);\n  const closeModalBtn = document.querySelector('.close-modal__trailer');\n  closeModalBtn.addEventListener('click', closeModalYouTube);\n  window.addEventListener('keydown', onEscCloseModalWindow);\n  /**\n   * closeModal\n   */\n}\n/**\n * закрыть модальное окно\n */\nfunction closeModalYouTube() {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  backdrop.remove();\n  document.body.style = '';\n}\nfunction onClickBeckdropCloseModalWindow(e) {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  if (e.target.className !== 'backdrop-trailer active') {\n    return;\n  }\n  backdrop.remove();\n  document.body.style = '';\n  backdrop.removeEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction onEscCloseModalWindow(e) {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  if (e.key !== 'Escape') {\n    return;\n  }\n  backdrop.remove();\n  window.removeEventListener('keydown', onEscCloseModalWindow);\n}\n"],"names":["$8fec21839ab13f76$export$2e2bcd8739ae039","parent","item","insertAdjacentHTML","$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a73b202311c5eb06$export$2e2bcd8739ae039","key","value","localStorage","setItem","stringify","getItem","async","$07744d7d84351cb9$export$e483d52d8d6686e1","response","document","querySelector","allFilms","allGenres","films","geners","map","film","filmGeners","gener","genre_ids","includes","push","name","$07744d7d84351cb9$var$pushGenerInFilmGeners","splice","$07744d7d84351cb9$var$addOtherInFilmgeners","filmGenerSpace","year","release_date","substr","poster_path","$parcel$interopDefault","$03931b928bc5f8a5$exports","title","$07744d7d84351cb9$var$marcapCard","join","$07744d7d84351cb9$var$createCard","$4195ef275819281b$export$2e2bcd8739ae039","currentFilm","$4195ef275819281b$var$addAudit","vote_average","toFixed","vote_count","popularity","original_title","overview","data","$0398263c58950590$export$2e2bcd8739ae039","addWatched","filmsWatched","find","Number","dataset","textContent","$0398263c58950590$var$textContentBtnDelete","addEventListener","results","repeatedFilm","currentFilmindex","findIndex","$0398263c58950590$var$deleteFilm","$d519ad87cfe2bb33$export$2e2bcd8739ae039","addQueue","filmsQueue","$d519ad87cfe2bb33$var$textContentBtnDelete","$d519ad87cfe2bb33$var$deleteFilm","URL","resolve","url","toString","$e78afb5664fef959$var$refs","filmList","backdrop","modalContainer","$e78afb5664fef959$export$2c3c00e01a7d40b","e","filmLibrary","watchedBtn","queueBtn","classList","contains","target","className","parseInt","template","genres","genre","$e78afb5664fef959$var$pushGenerInFilmGeners","$e78afb5664fef959$var$renderMarcap","querySelectorAll","forEach","youtubeBtn","style","body","$e78afb5664fef959$var$onCloseModalWindow","add","$e78afb5664fef959$var$onClickBeckdropCloseModalWindow","window","$e78afb5664fef959$var$onEscCloseModalWindow","$e78afb5664fef959$var$removeModal","removeEventListener","remove","innerHTML","filmSection","libraryContainer","$e78afb5664fef959$var$removeFilmFromList","$917334fce02af156$var$refs","filmTitle","$917334fce02af156$var$filmList","$0012688c1586ec01$var$refs","$0012688c1586ec01$var$filmList","$9502e6251e5144ba$var$spiner","$9502e6251e5144ba$export$2e2bcd8739ae039","filmId","fetch","json","error","console","$223a6d3ef5b2421f$var$filmsListRef","$223a6d3ef5b2421f$var$filmsSection","$223a6d3ef5b2421f$var$closeModalYouTube","$223a6d3ef5b2421f$var$onClickBeckdropCloseModalWindow","$223a6d3ef5b2421f$var$onEscCloseModalWindow","preventDefault","currentFilmId","closest","iframe","$223a6d3ef5b2421f$var$createIframe","Notify","warning","overflow"],"version":3,"file":"library-page.aaafe246.js.map"}