{"mappings":"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","sources":["src/js/utils/render.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-526dd954a24a91df.js","src/js/utils/localStorage.js","src/js/utils/renderHtmlCards.js","src/js/modal/modal-template.js","src/js/modal/add-in-watched.js","src/js/modal/add-in-queue.js","node_modules/@parcel/runtime-js/lib/runtime-3f870ed3bdc5bfe1.js","src/js/modal/libraryModal.js","src/js/film-list/film-watched.js","src/js/film-list/film-queue.js","src/js/youtube/trailerApi.js","src/js/youtube/youtubeTrailerModal.js"],"sourcesContent":["/**\n * Render HTML.\n * @param {Object} parent\n * @param {Object} item\n */\n\nexport default function render(parent, item) {\n  parent.insertAdjacentHTML('beforeend', item);\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library-page.43b07ae5.js\\\",\\\"j4tWy\\\":\\\"thumbnail.cedc50af.jpg\\\"}\"));","/**\n * Get from localStorage\n * @param {string} key\n */\nfunction getItem(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\n/**\n * Set in localStorage\n * @param {string} key\n */\nfunction setItem(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport default { setItem, getItem };\n","import { render } from '../utils/index';\nimport ImagePlaceholder from '../../images/thumbnail.jpg';\n\nexport async function renderCards(response) {\n  const filmsListRef = document.querySelector('.films__list');\n  const filmCard = await createCard(response);\n  render(filmsListRef, filmCard);\n}\nasync function createCard({ allFilms, allGenres }) {\n  const films = await allFilms;\n  const geners = await allGenres;\n\n  return films\n    .map(film => {\n      const filmGeners = [];\n      pushGenerInFilmGeners({ geners, filmGeners, film });\n      addOtherInFilmgeners(filmGeners);\n      const filmGenerSpace = filmGeners.join(', ');\n      return marcapCard({ film, filmGenerSpace });\n    })\n    .join('');\n}\nfunction pushGenerInFilmGeners({ geners, filmGeners, film }) {\n  geners.map(gener => {\n    if (film.genre_ids.includes(gener.id)) {\n      filmGeners.push(gener.name);\n    }\n  });\n}\nfunction addOtherInFilmgeners(filmGeners) {\n  if (filmGeners.length > 2) {\n    filmGeners.splice(2);\n    filmGeners.push('Other');\n  }\n}\nfunction marcapCard({ film, filmGenerSpace }) {\n  const year = film.release_date.substr(0, 4);\n  return `\n       <li class=\"films__item\" >\n        <div class=\"films__card\" data-id=\"${film.id}\">\n            <button class=\"youtube-button\">\n              <svg style=\"pointer-events: none\" version=\"1.0\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n                viewBox=\"0 0 158 110\" enable-background=\"new 0 0 158 110\" xml:space=\"preserve\">\n                <path id=\"XMLID_142_\" fill=\"#FF0000\" d=\"M154.4,17.5c-1.8-6.7-7.1-12-13.9-13.8C128.2,0.5,79,0.5,79,0.5s-48.3-0.2-60.6,3\n                c-6.8,1.8-13.3,7.3-15.1,14C0,29.7,0.3,55,0.3,55S0,80.3,3.3,92.5c1.8,6.7,8.4,12.2,15.1,14c12.3,3.3,60.6,3,60.6,3s48.3,0.2,60.6-3\n                c6.8-1.8,13.1-7.3,14.9-14c3.3-12.1,3.3-37.5,3.3-37.5S157.7,29.7,154.4,17.5z\"/>\n                <polygon id=\"XMLID_824_\" fill=\"#FFFFFF\" points=\"63.9,79.2 103.2,55 63.9,30.8 \"/>\n              </svg>\n              </button>\n            <div class=\"films__img-container\">\n                <img\n                data-id=\"${film.id}\"\n                class=\"films__img\"\n                src=\"${\n                  film.poster_path\n                    ? 'https://image.tmdb.org/t/p/w500/' + film.poster_path\n                    : ImagePlaceholder\n                }\"\n                alt=\"${film.title}\"\n                loading=\"lazy\"\n                />\n            </div>\n            <div class=\"info\">\n                <p class=\"info__title\">${film.title}</p>\n                <p class=\"info__subtitle\">${filmGenerSpace} | ${year}</p>\n            </div>\n        </div>\n       </li> \n      `;\n}\n","import ImagePlaceholder from '../../images/thumbnail.jpg';\n/**\n * Modal template.\n * @param {Object} currentFilm\n * @param {Array} filmGeners\n */\nexport default function marcapModal(currentFilm, filmGeners) {\n  return `\n        <div class=\"modal-img-container\">\n          <img\n            class=\"modal-img\"\n            src=\"${\n              currentFilm.poster_path\n                ? 'https://image.tmdb.org/t/p/w500/' + currentFilm.poster_path\n                : ImagePlaceholder\n            }\"\n            alt=\"${addAudit(currentFilm.title)}\"\n          />\n        </div>\n        <div class=\"description\">\n          <h1 class=\"description__title\">${addAudit(currentFilm.title)}</h1>\n          <div class=\"info-stats\">\n            <ul class=\"info-stats__list\">\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Vote / Votes</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Popularity</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Original Title</p>\n              </li>\n              <li class=\"info-stats__item\">\n                <p class=\"info-stats__subtitle\">Genre</p>\n              </li>\n            </ul>\n            <ul class=\"stats\">\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">\n                  <span class=\"rating\">${addAudit(\n                    currentFilm.vote_average.toFixed(1)\n                  )}</span>\n                  <span class=\"rating__or\">/</span>\n                  <span class=\"rating rating--white\">${addAudit(\n                    currentFilm.vote_count\n                  )}</span>\n                </p>\n              </li>\n              <li class=\"stats__item\"><p class=\"stats__subtitle\">${addAudit(\n                currentFilm.popularity.toFixed(1)\n              )}</p></li>\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">${addAudit(\n                  currentFilm.original_title\n                )}</p>\n              </li>\n              <li class=\"stats__item\">\n                <p class=\"stats__subtitle\">${addAudit(\n                  filmGeners.join(', ')\n                )}</p>\n              </li>\n            </ul>\n          </div>\n          <h2 class=\"about\">About</h2>\n          <p class=\"about__description\">\n             ${addAudit(currentFilm.overview)}\n          </p>\n          <button class=\"add-button add-watched-js\" type=\"button\" data-id=\"${\n            currentFilm.id\n          }\">add to Watched</button>\n          <button class=\"add-button add-queue-js\" type=\"button\" data-id=\"${\n            currentFilm.id\n          }\">add to queue</button>\n        </div>\n    `;\n}\n\nfunction addAudit(data) {\n  if (data.length === 0) {\n    return 'No information';\n  }\n  return data;\n}\n","import LocalStorage from '../utils/localStorage';\n\nexport default function addFilmInWatchedArray() {\n  const addWatched = document.querySelector('.add-watched-js');\n\n  textContentBtnDelete(addWatched);\n  addWatched.addEventListener('click', onClickWatchedBtn);\n\n  function onClickWatchedBtn() {\n    const filmsWatched = JSON.parse(localStorage.getItem('filmsWatched'));\n    const allFilms = LocalStorage.getItem('all-films');\n    const currentFilm = allFilms.results.find(\n      film => film.id === Number(addWatched.dataset.id)\n    );\n    if (filmsWatched) {\n      const repeatedFilm = filmsWatched.find(\n        film => film.id === Number(addWatched.dataset.id)\n      );\n      if (repeatedFilm) {\n        deleteFilm({ filmsWatched, repeatedFilm, addWatched });\n        return;\n      }\n      LocalStorage.setItem('filmsWatched', [...filmsWatched, currentFilm]);\n    } else {\n      LocalStorage.setItem('filmsWatched', [currentFilm]);\n    }\n    addWatched.textContent = 'DELETE TO WATCHED';\n  }\n}\n/**\n * если фильм в просмотренных пишем DELETE\n */\nfunction textContentBtnDelete(addWatched) {\n  const filmsWatched = JSON.parse(localStorage.getItem('filmsWatched'));\n  if (filmsWatched) {\n    const repeatedFilm = filmsWatched.find(\n      film => film.id === Number(addWatched.dataset.id)\n    );\n    if (repeatedFilm) {\n      addWatched.textContent = 'DELETE TO WATCHED';\n    }\n  }\n}\n///////////////////////////////////////////////////////////////////////////\n/**\n * удалить фильм из локал стореджа\n */\nfunction deleteFilm({ filmsWatched, repeatedFilm, addWatched }) {\n  const currentFilmindex = filmsWatched.findIndex(\n    film => film === repeatedFilm\n  );\n  filmsWatched.splice(currentFilmindex, 1);\n  localStorage.setItem('filmsWatched', JSON.stringify(filmsWatched));\n  addWatched.textContent = 'add to watched';\n}\n///////////////////////////////////////////////////////////////////////////\n","import LocalStorage from '../utils/localStorage';\n\nexport default function addFilmInWatchedArray() {\n  const addQueue = document.querySelector('.add-queue-js');\n  textContentBtnDelete(addQueue);\n  addQueue.addEventListener('click', onClickWatchedBtn);\n\n  function onClickWatchedBtn() {\n    const filmsQueue = JSON.parse(localStorage.getItem('filmsQueue'));\n    const allFilms = LocalStorage.getItem('all-films');\n    const currentFilm = allFilms.results.find(\n      film => film.id === Number(addQueue.dataset.id)\n    );\n    if (filmsQueue) {\n      const repeatedFilm = filmsQueue.find(\n        film => film.id === Number(addQueue.dataset.id)\n      );\n      if (repeatedFilm) {\n        deleteFilm({ filmsQueue, repeatedFilm, addQueue });\n        return;\n      }\n      LocalStorage.setItem('filmsQueue', [...filmsQueue, currentFilm]);\n    } else {\n      LocalStorage.setItem('filmsQueue', [currentFilm]);\n    }\n    addQueue.textContent = 'DELETE TO queue';\n  }\n}\n/**\n * если фильм в просмотренных пишем DELETE\n */\nfunction textContentBtnDelete(addQueue) {\n  const filmsQueue = JSON.parse(localStorage.getItem('filmsQueue'));\n  if (filmsQueue) {\n    const repeatedFilm = filmsQueue.find(\n      film => film.id === Number(addQueue.dataset.id)\n    );\n    if (repeatedFilm) {\n      addQueue.textContent = 'delete to watched';\n    }\n  }\n}\n///////////////////////////////////////////////////////////////////////////\n/**\n * удалить фильм из локал стореджа\n */\nfunction deleteFilm({ filmsQueue, repeatedFilm, addQueue }) {\n  const currentFilmindex = filmsQueue.findIndex(film => film === repeatedFilm);\n  filmsQueue.splice(currentFilmindex, 1);\n  localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\n  addQueue.textContent = 'add to queue';\n}\n///////////////////////////////////////////////////////////////////////////\n///\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"j4tWy\");","import { LocalStorage, render } from '../utils';\nimport marcapModal from './modal-template';\nimport { renderCards } from '../utils/index';\nimport addFilmInWatchedArray from './add-in-watched';\nimport addFilmInQueueArray from './add-in-queue';\n\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  backdrop: document.querySelector('.modal-backdrop'),\n  modalContainer: document.querySelector('.modal-container'),\n};\n\n/**\n * Открытие модального окна ниже\n */\nexport function onOpenModalWithSingleFilm(e) {\n  const filmLibrary = document.querySelector('.film--library');\n  //   const filmList = document.querySelector('.films__list');\n  //   const filmSection = document.querySelector('.film-section');\n  //   const libraryContainer = document.querySelector('.library-container');\n  const watchedBtn = document.querySelector('[data-watched]');\n  const queueBtn = document.querySelector('[data-queue]');\n\n  let allFilms = null;\n\n  if (filmLibrary) {\n    if (watchedBtn.classList.contains('is-active')) {\n      allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n    }\n    if (queueBtn.classList.contains('is-active')) {\n      allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n    }\n    if (e.target.className !== 'films__img') {\n      return;\n    }\n  }\n  const currentFilm = allFilms?.find(film => {\n    return parseInt(film.id) === parseInt(e.target.dataset.id);\n  });\n\n  const template = renderMarcap(currentFilm);\n  render(refs.modalContainer, template);\n  const youtubeBtn = document.querySelectorAll('.youtube-button');\n  youtubeBtn.forEach(youtubeBtn => (youtubeBtn.style = 'display:none'));\n  document.body.style = 'overflow: hidden';\n\n  /**\n   * Watched and queue buttons\n   */\n  addFilmInWatchedArray();\n  addFilmInQueueArray();\n  ///////////////////////////////\n  /**\n   * Закрыть модальное окно и убрать за собой все следы\n   */\n  const buttonClose = document.querySelector('.button-close');\n  buttonClose.addEventListener('click', onCloseModalWindow);\n  refs.backdrop.classList.add('active');\n  refs.backdrop.addEventListener('click', onClickBeckdropCloseModalWindow);\n  window.addEventListener('keydown', onEscCloseModalWindow);\n}\nfunction renderMarcap(currentFilm) {\n  const filmGeners = [];\n  pushGenerInFilmGeners(currentFilm, filmGeners);\n\n  return marcapModal(currentFilm, filmGeners);\n}\nfunction pushGenerInFilmGeners(currentFilm, filmGeners) {\n  const generCollection = LocalStorage.getItem('all-geners');\n  generCollection.genres.map(genre => {\n    if (currentFilm.genre_ids.includes(genre.id)) {\n      filmGeners.push(genre.name);\n    }\n  });\n}\n/**\n * Закрытие модального окна ниже\n */\n\nfunction onCloseModalWindow(e) {\n  if (e.target.className !== 'custom-icon') {\n    return;\n  }\n  removeModal();\n}\nfunction onClickBeckdropCloseModalWindow(e) {\n  if (e.target.className !== 'modal-backdrop active') {\n    return;\n  }\n  removeModal();\n  refs.backdrop.removeEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction onEscCloseModalWindow(e) {\n  if (e.key !== 'Escape') {\n    return;\n  }\n  refs.backdrop.classList.remove('active');\n  refs.modalContainer.innerHTML = `\n    <button class=\"button-close\" type=\"button\">\n        <div class=\"custom-icon\"></div>\n    </button>`;\n  window.removeEventListener('keydown', onEscCloseModalWindow);\n}\nfunction removeModal() {\n  refs.backdrop.classList.remove('active');\n  document.body.style = '';\n  refs.modalContainer.innerHTML = `\n    <button class=\"button-close\" type=\"button\">\n        <div class=\"custom-icon\"></div>\n    </button>`;\n  const youtubeBtn = document.querySelectorAll('.youtube-button');\n  youtubeBtn.forEach(youtubeBtn => (youtubeBtn.style = 'display:block'));\n  /**\n   * Удалить фильм из списка просмотренных при закрытии модалнього окна\n   */\n  const filmLibrary = document.querySelector('.film--library');\n  if (filmLibrary) {\n    removeFilmFromList(filmLibrary);\n  }\n}\nfunction removeFilmFromList(filmLibrary) {\n  const filmList = document.querySelector('.films__list');\n  const filmSection = document.querySelector('.film-section');\n  const libraryContainer = document.querySelector('.library-container');\n  const watchedBtn = document.querySelector('[data-watched]');\n  const queueBtn = document.querySelector('[data-queue]');\n\n  let allFilms = null;\n\n  if (watchedBtn.classList.contains('is-active')) {\n    allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n  }\n  if (queueBtn.classList.contains('is-active')) {\n    allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n  }\n\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n  if (!allFilms || allFilms.length === 0) {\n    filmList.innerHTML = '';\n    libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmSection.classList.add('library-plug');\n    return;\n  }\n  filmLibrary.innerHTML = '';\n  renderCards({ allFilms, allGenres });\n}\n","import { renderCards } from '../utils/index';\nimport { onOpenModalWithSingleFilm } from '../modal/libraryModal';\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  watchedBtn: document.querySelector('[data-watched]'),\n  queueBtn: document.querySelector('[data-queue]'),\n  filmTitle: document.querySelector('.film-title'),\n  filmSection: document.querySelector('.film-section'),\n  libraryContainer: document.querySelector('.library-container'),\n};\nlet filmList = document.querySelector('.films__list');\n\nrefs.watchedBtn.addEventListener('click', onClickWatchedBtn);\n\nasync function onClickWatchedBtn(e) {\n  filmList = document.querySelector('.films__list');\n  const filmTitle = document.querySelector('.film-title');\n  /**\n   * refs\n   */\n  filmList.innerHTML = '';\n  refs.watchedBtn.classList.add('is-active');\n  refs.queueBtn.classList.remove('is-active');\n  const allFilms = JSON.parse(localStorage.getItem('filmsWatched'));\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n\n  if (!allFilms || allFilms.length === 0) {\n    refs.libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmList = document.querySelector('.films__list');\n    refs.filmSection.classList.add('library-plug');\n    filmList.innerHTML = '';\n    return;\n  }\n  refs.filmSection.classList.remove('library-plug');\n  filmTitle?.remove();\n\n  renderCards({ allFilms, allGenres });\n\n  onOpenModalWithSingleFilm(e, allFilms);\n\n  filmList.removeEventListener('click', onOpenModalWithSingleFilm);\n  filmList.addEventListener('click', onOpenModalWithSingleFilm);\n}\n","import { renderCards } from '../utils/index';\nimport { onOpenModalWithSingleFilm } from '../modal/libraryModal';\nconst refs = {\n  filmList: document.querySelector('.films__list'),\n  watchedBtn: document.querySelector('[data-watched]'),\n  queueBtn: document.querySelector('[data-queue]'),\n  filmTitle: document.querySelector('.film-title'),\n  filmSection: document.querySelector('.film-section'),\n  libraryContainer: document.querySelector('.library-container'),\n};\nlet filmList = document.querySelector('.films__list');\n\nrefs.queueBtn.addEventListener('click', onClickQueue);\n\nasync function onClickQueue(e) {\n  filmList = document.querySelector('.films__list');\n  const filmTitle = document.querySelector('.film-title');\n  /**\n   * refs\n   */\n  filmList.innerHTML = '';\n  refs.queueBtn.classList.add('is-active');\n  refs.watchedBtn.classList.remove('is-active');\n  const allFilms = JSON.parse(localStorage.getItem('filmsQueue'));\n  const allGenres = JSON.parse(localStorage.getItem('all-geners')).genres;\n\n  if (!allFilms || allFilms.length === 0) {\n    refs.libraryContainer.innerHTML = `<h1 class=\"film-title\">Your list is empty</h1><ul class=\"films__list film--library\"></ul>`;\n    filmList = document.querySelector('.films__list');\n    refs.filmSection.classList.add('library-plug');\n    filmList.innerHTML = '';\n    return;\n  }\n  refs.filmSection.classList.remove('library-plug');\n  filmTitle?.remove();\n  renderCards({ allFilms, allGenres });\n\n  onOpenModalWithSingleFilm(e, allFilms);\n\n  filmList.removeEventListener('click', onOpenModalWithSingleFilm);\n  filmList.addEventListener('click', onOpenModalWithSingleFilm);\n}\n","const spiner = document.querySelector('.bcdrop-spiner');\n\nexport default async function fetchUrl(filmId) {\n  try {\n    spiner.classList.add('visible');\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${filmId}/videos?api_key=14b7b0dab2e9101796b24880530a0048`\n    );\n    const films = await response.json();\n    spiner.classList.remove('visible');\n\n    return films.results;\n  } catch (error) {\n    spiner.classList.remove('visible');\n    console.error(error);\n    throw new Error('Error fetching film genres');\n  }\n}\n","import fetchTrailers from '../youtube/trailerApi';\nconst filmsListRef = document.querySelector('.films__list');\nfilmsListRef.addEventListener('click', onOpenTrailer);\n\nasync function onOpenTrailer(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('youtube-button')) {\n    return;\n  }\n  const currentFilmId = e.target.closest('.films__card').dataset.id;\n\n  const response = await fetchTrailers(currentFilmId);\n  if (response.length >= 1) {\n    createIframe(response[0].key);\n  } else if (!response.length) {\n    Notify.warning('There are no trailers for this movie');\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  const backdrop = document.querySelector('.backdrop-trailer');\n  backdrop.classList.add('active');\n  backdrop.addEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction createIframe(results) {\n  const iframe = `<div class=\"backdrop-trailer\"><div class=\"modal-trailer\"><button class=\"close-modal__trailer\"><div class=\"custom-icon-2 white--custom\"></div></button>\n    <iframe class=\"iframe\" fullscreen src=\"https://www.youtube.com/embed/${results}\" frameborder=\"0\"></iframe>\n    </div></div>`;\n  document.body.insertAdjacentHTML('beforeend', iframe);\n  const closeModalBtn = document.querySelector('.close-modal__trailer');\n  closeModalBtn.addEventListener('click', closeModalYouTube);\n  window.addEventListener('keydown', onEscCloseModalWindow);\n  /**\n   * closeModal\n   */\n}\n/**\n * закрыть модальное окно\n */\nfunction closeModalYouTube() {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  backdrop.remove();\n  document.body.style = '';\n}\nfunction onClickBeckdropCloseModalWindow(e) {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  if (e.target.className !== 'backdrop-trailer active') {\n    return;\n  }\n  backdrop.remove();\n  document.body.style = '';\n  backdrop.removeEventListener('click', onClickBeckdropCloseModalWindow);\n}\nfunction onEscCloseModalWindow(e) {\n  const backdrop = document.querySelector('.backdrop-trailer');\n  if (e.key !== 'Escape') {\n    return;\n  }\n  backdrop.remove();\n  window.removeEventListener('keydown', onEscCloseModalWindow);\n}\n"],"names":["$a02b7415aa6f112b$export$2e2bcd8739ae039","parent","item","insertAdjacentHTML","$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$85681e7c60abf932$export$2e2bcd8739ae039","key","localStorage","setItem","stringify","getItem","async","$9a172589bfa8a946$export$e483d52d8d6686e1","response","document","querySelector","allFilms","allGenres","films","geners","map","film","filmGeners","gener","genre_ids","includes","push","name","$9a172589bfa8a946$var$pushGenerInFilmGeners","splice","$9a172589bfa8a946$var$addOtherInFilmgeners","filmGenerSpace","year","release_date","substr","poster_path","$parcel$interopDefault","$ec952f7225600069$exports","title","$9a172589bfa8a946$var$marcapCard","join","$9a172589bfa8a946$var$createCard","$979173c59cc307c3$export$2e2bcd8739ae039","currentFilm","$979173c59cc307c3$var$addAudit","vote_average","toFixed","vote_count","popularity","original_title","overview","data","$ae790d5236e55eab$export$2e2bcd8739ae039","addWatched","filmsWatched","find","Number","dataset","textContent","$ae790d5236e55eab$var$textContentBtnDelete","addEventListener","results","repeatedFilm","currentFilmindex","findIndex","$ae790d5236e55eab$var$deleteFilm","$7e436705f431dd2f$export$2e2bcd8739ae039","addQueue","filmsQueue","$7e436705f431dd2f$var$textContentBtnDelete","$7e436705f431dd2f$var$deleteFilm","getBundleURL","resolve","$42b0d66c45fec29f$var$refs","filmList","backdrop","modalContainer","$42b0d66c45fec29f$export$2c3c00e01a7d40b","e","filmLibrary","watchedBtn","queueBtn","classList","contains","target","className","parseInt","template","genres","genre","$42b0d66c45fec29f$var$pushGenerInFilmGeners","$42b0d66c45fec29f$var$renderMarcap","querySelectorAll","forEach","youtubeBtn","style","body","$42b0d66c45fec29f$var$onCloseModalWindow","add","$42b0d66c45fec29f$var$onClickBeckdropCloseModalWindow","window","$42b0d66c45fec29f$var$onEscCloseModalWindow","$42b0d66c45fec29f$var$removeModal","removeEventListener","remove","innerHTML","filmSection","libraryContainer","$42b0d66c45fec29f$var$removeFilmFromList","$ed0729dec52c9b2f$var$refs","filmTitle","$ed0729dec52c9b2f$var$filmList","$120cc6dbe4b5dc32$var$refs","$120cc6dbe4b5dc32$var$filmList","$8e6f9a46c33e75d9$var$spiner","$8e6f9a46c33e75d9$export$2e2bcd8739ae039","filmId","fetch","json","error","console","$7793fba12eb2994a$var$closeModalYouTube","$7793fba12eb2994a$var$onClickBeckdropCloseModalWindow","$7793fba12eb2994a$var$onEscCloseModalWindow","preventDefault","currentFilmId","closest","iframe","$7793fba12eb2994a$var$createIframe","Notify","warning","overflow"],"version":3,"file":"library-page.43b07ae5.js.map"}